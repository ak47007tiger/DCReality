## contetns
- 系统概述
- 业务说明
- 技术
  - 选型
  - 架构说明
  - 重点技术

## 整个技能对象的流程
- 设置参数
- life recycle
  - create
  - 时间tick
  - destroy
- event
  - get target
  - destroy

## 怎么在技能生效的时候添加buff
- 技能配置里面增加一个字段，生效时添加的buff
- 增加一个处理器，生效到目标时执行action

## 处理buff对技能的限制
- 怎么判断一个buff限制一个技能的释放
- 释放技能前判断
- 哪些buff会影响哪些技能的释放
  - 晕眩buff除了接触晕眩的技能阻止所有技能释放

## 技能类型
- class1
  - normal
    - 一般为直接添加buff
  - area
  - bullet
- class2
  - target
  - no target

## 流程和对象
- 1
  - hero, cast, actor
- 2
  - skill
- 3
  - event handler
- 4
  - effect

## 处理闪电链
- 计算cast的最大区域，cast
- 随机收集目标，根据距离排序

## 二次激活的技能
- 用1个技能
  - 释放后的技能可以用来处理监听
- 用2个技能
  - 释放一个技能，同时激活另一个技能用来监听
- 技能是独立的，二次触发应该是英雄配置
  - 某个按键的技能生效后配置到转为释放另一个技能
  - 需要记录某个按键的技能上一次的目标
- 模拟
  - q skill 1
  - caster q skill 2
- 使用列表模拟一个按键对应的多个技能

## 三段技能
- 还是决定使用配key - list的形式做多段技能

## 瞎子q
- key q有激活中的技能
  - yes 释放索引中下一个技能p
  - no 释放q技能
    - q命中目标
    - q技能激活中
      - q技能存活时间结束
      - q技能cd
    - key q有激活中的技能 闭环

## 瑞文q

## 锤石q

## 按下按键，集能量，松开后释放技能

## skill cd duration and 持续时间
- 多个相同key的技能实例同时存在的情况
  - cd好了，又释放一次技能，之前的技能还在
  - 存在这样的情况
- cd时间大于技能存活时间的情况
  - 需要一个额外对象管理cd
- 有的技能释放后没有立即开始刷新cd，有的立即刷新

## 技能ui
- 技能信息和ui同步
- ui触发技能