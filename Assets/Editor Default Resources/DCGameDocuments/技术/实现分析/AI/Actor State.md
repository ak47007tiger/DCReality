## state
- Idle
- Move
- ForceTranslate
- Skill
- Stop
- Dizzy
- Die

## flow
- idle to skill
  - ste up move position
  - set up skill
  - cast skill

## SkillState的move和IdleState的move
- 一般的移动，仅仅是移动，到达目的地后会停下
- 技能的移动伴随着回调，到达后释放技能

## input
- evt
  - move evt
  - skill evt
  - buff evt
  - alive evt
  - die evt
- evt queue

## 一个有动画的技能的生效过程
- 播放前摇动画
- 技能生效
- 播放后摇动画

## 状态机是用来做什么的？
- 不同的状态根据输入有不同的表现
- 部分输入可以改变状态

## 怎么划分状态
- 一个状态是一个目标的分类
- 可以分的很细可以分的粗

## player时move类
- 移动到目标位置
- 索敌
- 强制移动

## ai时move类
- 索敌
- 躲避
  - 往某个方向移动
  - 往某个地点移动
- 移动到目标位置
- 强制移动

## 例子
- 放技能前索敌
- ai逃跑
- ai索敌

## 状态和动作
- 索敌是？
  - 目标
  - 动作
  - 状态

## ai操作时候的状态机和玩家操作时候的状态机对比
- ai操作的时候不会处理用户输入

## 状态和数据
- 状态对象每帧轮询获取数据来改变状态

## lol的情况描述
- 有的技能放过之后还会移动到上次的目标位置，有的不会
  - 技能状态完成后切换回上一个状态
- 移动到敌人并且敌人在攻击范围内会自动攻击
- 放技能中进行移动，放完技能会移动到指定位置
- 一个位移技能会取消另一个正在释放的位移技能

## 有关死亡的处理
- 扣血到负值之后死亡
- 扣血事件
- 轮询血量

## 释放技能的目标设定应该在哪个状态
- move state时可以进行技能准备的
- 在技能状态
- 1 按键触发技能准备流程，选好目标后发送事件给技能state，释放技能
- 2 按键触发技能准备流程，选择目标，更新ui，选择结束，释放技能

## 选技能，选目标
- 这个和状态无关，由controller处理，当按下鼠标左键，选中的技能和目标都确定的时候，当前状态根据controller提供的信息决定是否切换状态
- 